<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:Bugtracker.Main.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="Bugtracker.Main.Views.Bugs.CreateBugPage"
             Title="Report a new bug"
             x:DataType="viewModels:CreateBugViewModel">
    <ContentPage.Content>
        <VerticalStackLayout Padding="15" 
                             Spacing="15">
            <VerticalStackLayout Spacing="5">
                <Label Text="Title:"/>
                <Entry Text="{Binding Title}"/>
            </VerticalStackLayout>
            <VerticalStackLayout Spacing="5">
                <Label Text="Short details:"/>
                <Entry Text="{Binding ShortDesc}"/>
            </VerticalStackLayout>
            <VerticalStackLayout Spacing="5">
                <Label Text="Describe the bug:"/>
                <Editor MinimumHeightRequest="100" Text="{Binding Details}"/>
            </VerticalStackLayout>
            <VerticalStackLayout Spacing="5">
                <ActivityIndicator IsRunning="{Binding IsLoading}"
                                   IsVisible="{Binding IsLoading}"/>
                <Label Text="Priority"
                       IsVisible="{Binding IsLoading, Converter={toolkit:InvertedBoolConverter}}"/>
                <Picker ItemsSource="{Binding Priorities}"
                        SelectedItem="{Binding AssignedPriority}"
                        IsVisible="{Binding IsLoading, Converter={toolkit:InvertedBoolConverter}}"/>
            </VerticalStackLayout>
            <Button Text="Report"
                    IsEnabled="{Binding IsFormCorrect}"
                    Command="{Binding UploadEntryCommand}"/>
        </VerticalStackLayout>
    </ContentPage.Content>
</ContentPage>